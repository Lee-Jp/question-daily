(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["QuestionDetail"],{"159b":function(e,t,r){var n=r("da84"),o=r("fdbc"),c=r("17c2"),a=r("9112");for(var i in o){var s=n[i],u=s&&s.prototype;if(u&&u.forEach!==c)try{a(u,"forEach",c)}catch(l){u.forEach=c}}},"17c2":function(e,t,r){"use strict";var n=r("b727").forEach,o=r("a640"),c=r("ae40"),a=o("forEach"),i=c("forEach");e.exports=a&&i?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,r){"use strict";var n=r("23e7"),o=r("17c2");n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"444d":function(e,t,r){"use strict";r.r(t);var n=r("7a23"),o=Object(n["withScopeId"])("data-v-5cb0a92c");Object(n["pushScopeId"])("data-v-5cb0a92c");var c={class:"question-detail"},a={class:"left"},i={class:"question"},s={class:"title"},u={class:"info"},l={class:"tag"},d={class:"answer"},b={class:"h2-title"},f={class:"list"},p={class:"info"},j=Object(n["createVNode"])("div",{class:"h2-title"},"撰写回答",-1),O={class:"my-answer"},g={class:"submit-btn"},h=Object(n["createTextVNode"])(" 提交回答 "),v=Object(n["createVNode"])("div",{class:"right"}," 右侧右侧右侧右侧右侧右侧右侧 ",-1);Object(n["popScopeId"])();var w=o((function(e,t,r,w,m,y){var V=Object(n["resolveComponent"])("v-md-editor"),q=Object(n["resolveComponent"])("el-button");return Object(n["openBlock"])(),Object(n["createBlock"])("div",c,[Object(n["createVNode"])("div",a,[Object(n["createVNode"])("div",i,[Object(n["createVNode"])("div",s,Object(n["toDisplayString"])(e.questionTitle),1),Object(n["createVNode"])("div",u,[Object(n["createVNode"])("div",null,Object(n["toDisplayString"])(e.questionAuthor),1),Object(n["createVNode"])("div",null,"发布于："+Object(n["toDisplayString"])(e.questionDate),1)]),Object(n["createVNode"])("div",l,"Tag："+Object(n["toDisplayString"])(e.questionTag),1),Object(n["createVNode"])(V,{class:"cont",modelValue:e.questionContent,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.questionContent=t}),mode:"preview"},null,8,["modelValue"])]),Object(n["createVNode"])("div",d,[Object(n["createVNode"])("div",b,Object(n["toDisplayString"])(e.answerList.length)+"个回答",1),Object(n["createVNode"])("div",f,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.answerList,(function(t){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"item",key:t.objectId},[Object(n["createVNode"])("div",p,Object(n["toDisplayString"])(t.author)+" 发布于："+Object(n["toDisplayString"])(e.formatTimefn(t.createdAt)),1),Object(n["createVNode"])(V,{modelValue:t.content,"onUpdate:modelValue":function(e){return t.content=e},mode:"preview"},null,8,["modelValue","onUpdate:modelValue"])])})),128))]),j,Object(n["createVNode"])("div",O,[Object(n["createVNode"])(V,{modelValue:e.editorUserAnswer,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.editorUserAnswer=t}),height:"280px",onChange:e.handleChange,"right-toolbar":"fullscreen","left-toolbar":"undo redo clear | h bold italic strikethrough quote emoji | tip ul ol table hr | todo-list link image code "},null,8,["modelValue","onChange"]),Object(n["createVNode"])("div",g,[Object(n["createVNode"])(q,{type:"primary",onClick:e.submitAnswer},{default:o((function(){return[h]})),_:1},8,["onClick"])])])])]),v])})),m=(r("a15b"),r("5530")),y=(r("96cf"),r("1da1")),V=r("79f6"),q=r("dbe5"),A=r("6c02"),D=r("3fd4");r("99af");function N(e,t){var r=t||"1",n=new Date(e),o=new Date,c=n.getFullYear(),a=n.getMonth()+1,i=n.getDate(),s=n.getHours(),u=n.getMinutes(),l=n.getSeconds(),d=o.getFullYear(),b=o.getMonth()+1,f=o.getDate(),p=o.getHours(),j=o.getMinutes(),O=o.getSeconds();return"2"===r?"".concat(c,"年").concat(a,"月").concat(i,"号 ").concat(s,"点").concat(u,"分"):d-c>1?d-c+"年前"+a+"月"+i+"号"+s+"点":d-c>0?"去年"+a+"月"+i+"号"+s+"点":b-a>0?"今年"+a+"月"+i+"号"+s+"点":f-i>1?f-i+"天前"+s+"点":f-i>0?"昨天"+s+"点":p-s>0?p-s+"小时前":j-u>0?j-u+"分钟前":O-l>0?O-l+"秒前":"刚刚"}var k=Object(n["defineComponent"])({setup:function(){var e=N,t=Object(n["inject"])("lodash"),r=Object(n["reactive"])({questionId:"",questionTitle:"",questionContent:"",questionAuthor:"",questionDate:"",questionTag:"",userAnswer:"",editorUserAnswer:"",answerList:[]}),o=Object(n["toRefs"])(r),c=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={params:{where:{objectId:r.questionId}}},e.next=3,Object(q["a"])("get",V["a"].questionAPI,t);case 3:if(n=e.sent,console.log(n.results[0]),n.results.length){e.next=7;break}return e.abrupt("return",D["a"].error("查询题目信息出错，请查看其他题目"));case 7:n=n.results[0],r.questionTitle=n.title,r.questionContent=n.content,r.questionAuthor=n.author,r.questionDate=n.createdAt.substr(0,10),r.questionTag=n.tag.join("，");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={params:{where:{questionId:r.questionId}}},e.next=3,Object(q["a"])("get",V["a"].answerAPI,t);case 3:n=e.sent,r.answerList=n.results;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n["onMounted"])((function(){var e=Object(A["c"])();r.questionId=e.query.id,c(),a()}));var i=t.debounce((function(e){r.userAnswer=e}),1e3),s=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){var t,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.userAnswer,n=r.questionId,t.length){e.next=3;break}return e.abrupt("return",D["a"].error("回答内容不能为空"));case 3:return e.next=5,Object(q["a"])("post",V["a"].answerAPI,{content:t,questionId:n,author:localStorage.getItem("userName")});case 5:o=e.sent,o.objectId?(D["a"].success("发布成功"),r.userAnswer="",r.editorUserAnswer="",a()):D["a"].error("发布失败，请稍后再试");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m["a"])(Object(m["a"])({},o),{},{handleChange:i,submitAnswer:s,formatTimefn:e})}});r("bacb");k.render=w,k.__scopeId="data-v-5cb0a92c";t["default"]=k},"4de4":function(e,t,r){"use strict";var n=r("23e7"),o=r("b727").filter,c=r("1dde"),a=r("ae40"),i=c("filter"),s=a("filter");n({target:"Array",proto:!0,forced:!i||!s},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},a15b:function(e,t,r){"use strict";var n=r("23e7"),o=r("44ad"),c=r("fc6a"),a=r("a640"),i=[].join,s=o!=Object,u=a("join",",");n({target:"Array",proto:!0,forced:s||!u},{join:function(e){return i.call(c(this),void 0===e?",":e)}})},a640:function(e,t,r){"use strict";var n=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},b64b:function(e,t,r){var n=r("23e7"),o=r("7b0b"),c=r("df75"),a=r("d039"),i=a((function(){c(1)}));n({target:"Object",stat:!0,forced:i},{keys:function(e){return c(o(e))}})},bacb:function(e,t,r){"use strict";r("de1e")},dbb4:function(e,t,r){var n=r("23e7"),o=r("83ab"),c=r("56ef"),a=r("fc6a"),i=r("06cf"),s=r("8418");n({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){var t,r,n=a(e),o=i.f,u=c(n),l={},d=0;while(u.length>d)r=o(n,t=u[d++]),void 0!==r&&s(l,t,r);return l}})},de1e:function(e,t,r){},e439:function(e,t,r){var n=r("23e7"),o=r("d039"),c=r("fc6a"),a=r("06cf").f,i=r("83ab"),s=o((function(){a(1)})),u=!i||s;n({target:"Object",stat:!0,forced:u,sham:!i},{getOwnPropertyDescriptor:function(e,t){return a(c(e),t)}})}}]);